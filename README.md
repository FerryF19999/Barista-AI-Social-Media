<div align="center">
<img width="1200" height="475" alt="GHBanner" src="https://github.com/user-attachments/assets/0aa67016-6eaf-458a-adb2-6e31a0763ed6" />
</div>

# Run and deploy your AI Studio app

This contains everything you need to run your app locally.

View your app in AI Studio: https://ai.studio/apps/drive/15FPnpECp6G1ENImCKFUVJkjIv4bMYriF

## Run Locally

**Prerequisites:**  Node.js


1. Install dependencies: `npm install`
2. Create a Supabase project and set the following environment variables in `.env.local`:

   ```
   # Either Vite-style keys …
   VITE_SUPABASE_URL=your-project-url
   VITE_SUPABASE_ANON_KEY=your-anon-key

   # …or Next.js style keys (NEXT_PUBLIC_SUPABASE_*)
   NEXT_PUBLIC_SUPABASE_URL=your-project-url
   NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key

   GEMINI_API_KEY=your-gemini-key
   ```

   > ℹ️ The app looks for `VITE_SUPABASE_*`, `NEXT_PUBLIC_SUPABASE_*`, or `SUPABASE_*` values (including ones exposed via `window.__env`/`window.config`) so you can reuse the `.env` generated by the Supabase + Next.js quickstart without any renaming. When no variables are provided, the starter falls back to the sample project whose credentials are listed above so you can experiment immediately.

3. Provision the required tables inside Supabase. You can either run the
   migration automatically with the Supabase CLI or copy the SQL into the SQL
   Editor:

   ```bash
   npx supabase db push --file supabase/migrations/20241011120000_init.sql
   ```

   The migration file creates the `profiles` and `posts` tables, adds helpful
   indexes, and enables the RLS policies the app expects. If you prefer to run
   the SQL manually, open the file and paste its contents into the Supabase SQL
   Editor.

4. (Optional) Seed Supabase with the same mock data used by the local fallback
   store so the UI has content immediately:

   ```bash
   npx supabase db execute --file supabase/seed.sql
   ```

   You can re-run the seed whenever you want to reset the demo data—it upserts
   the profiles and posts so existing changes are preserved if their IDs match.

5. Enable Realtime for the `profiles` and `posts` tables so every mutation is
   pushed instantly to all connected clients.

6. Run the app: `npm run dev`

## Troubleshooting

### "failed to update branch" when syncing with a remote

GitHub and other hosting providers will surface a **"failed to update branch"**
banner on pull requests when the branch cannot be fast-forwarded to the latest
default branch. This typically means your local branch is missing commits that
were pushed to `main`/`master` after you started your work.

To resolve the warning:

1. Fetch the latest default-branch commits from your remote.

   ```bash
   git fetch origin main
   ```

2. Rebase (or merge) your feature branch on top of the freshly fetched
   `origin/main`.

   ```bash
   git rebase origin/main
   # -- or --
   # git merge origin/main
   ```

3. Resolve any merge conflicts that appear, run the project tests/build, and
   push the updated branch.

   ```bash
   npm run build
   git push --force-with-lease
   ```

Once your branch contains the latest upstream commits, GitHub will automatically
clear the message and allow the PR to be merged.

### "fatal: No configured push destination" when creating a PR

This repo runs inside a disposable environment that does not come with a remote
configured by default. If you try to run `git push` (or open a pull request)
without first adding a remote, Git will abort with the following error message:

```
fatal: No configured push destination.
```

To resolve the issue, point the local repository at your Supabase app's GitHub
project (or any other remote) before pushing:

```bash
git remote add origin https://github.com/<your-org>/<your-repo>.git
git push -u origin work
```

Once the remote is configured you can push normally and open a pull request in
your Git hosting provider.
